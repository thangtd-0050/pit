{"version":3,"file":"ComparisonView-D4WICd1w.js","sources":["../../node_modules/.pnpm/lucide-react@0.552.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/arrow-down.js","../../node_modules/.pnpm/lucide-react@0.552.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/arrow-up.js","../../src/components/DeltaItem.tsx","../../src/components/DeltasSummary.tsx","../../src/components/ComparisonView.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.552.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }],\n  [\"path\", { d: \"m19 12-7 7-7-7\", key: \"1idqje\" }]\n];\nconst ArrowDown = createLucideIcon(\"arrow-down\", __iconNode);\n\nexport { __iconNode, ArrowDown as default };\n//# sourceMappingURL=arrow-down.js.map\n","/**\n * @license lucide-react v0.552.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m5 12 7-7 7 7\", key: \"hav0vg\" }],\n  [\"path\", { d: \"M12 19V5\", key: \"x0mq9r\" }]\n];\nconst ArrowUp = createLucideIcon(\"arrow-up\", __iconNode);\n\nexport { __iconNode, ArrowUp as default };\n//# sourceMappingURL=arrow-up.js.map\n","import { ArrowUp, ArrowDown, Minus } from 'lucide-react';\nimport { formatNumber } from '@/lib/format';\nimport { usePreferences } from '@/store/preferences';\nimport { cn } from '@/lib/utils';\n\ninterface DeltaItemProps {\n  /** Label text in Vietnamese */\n  label: string;\n  /** Delta value (2026 - 2025) */\n  delta: number;\n  /** If true, negative delta is good (e.g., for tax - less tax is better) */\n  inverted?: boolean;\n  /** If true, use larger font size for hero display */\n  large?: boolean;\n  /** Optional className for container */\n  className?: string;\n}\n\n/**\n * Display a single delta value with color coding and arrow indicator.\n * - Positive delta (2026 > 2025): Green if good, red if bad\n * - Negative delta (2026 < 2025): Red if good, green if bad\n * - Zero delta: Gray with minus sign\n *\n * For taxes and deductions:\n * - Use inverted=true for tax amounts (lower tax is better)\n * - Use inverted=false for deductions (higher deductions are better)\n */\nexport function DeltaItem({\n  label,\n  delta,\n  inverted = false,\n  large = false,\n  className,\n}: DeltaItemProps) {\n  const { locale } = usePreferences();\n\n  // Determine if this delta is positive for the user\n  const isPositive = inverted ? delta < 0 : delta > 0;\n  const isNegative = inverted ? delta > 0 : delta < 0;\n  const isZero = delta === 0;\n\n  // Color classes\n  const colorClass = cn({\n    'text-green-600 dark:text-green-400': isPositive,\n    'text-red-600 dark:text-red-400': isNegative,\n    'text-muted-foreground': isZero,\n  });\n\n  // Icon component\n  const Icon = isZero ? Minus : isPositive ? ArrowUp : ArrowDown;\n\n  // Font size classes\n  const sizeClass = large ? 'text-3xl md:text-4xl font-bold' : 'text-lg font-semibold';\n\n  // Format the absolute value\n  const formattedValue = formatNumber(Math.abs(delta), locale);\n\n  // Add +/- prefix\n  const prefix = isZero ? '' : delta > 0 ? '+' : '−'; // Using minus sign (U+2212)\n\n  return (\n    <div className={cn('flex items-center justify-between gap-4', className)}>\n      <span className={cn('text-sm font-medium text-muted-foreground', large && 'text-base')}>\n        {label}\n      </span>\n      <div className={cn('flex items-center gap-2', colorClass)}>\n        <Icon className={cn('h-4 w-4', large && 'h-6 w-6')} aria-hidden=\"true\" />\n        <span className={sizeClass}>\n          {prefix}\n          {formattedValue} VND\n        </span>\n      </div>\n    </div>\n  );\n}\n","import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { DeltaItem } from '@/components/DeltaItem';\nimport type { ComparisonResult } from '@/types';\n\ninterface DeltasSummaryProps {\n  /** Comparison result containing deltas */\n  comparison: ComparisonResult;\n  /** Optional className for container */\n  className?: string;\n}\n\n/**\n * Display summary card showing all deltas between 2025 and 2026 regimes.\n * Highlights differences in deductions, taxable income, PIT, and net salary.\n */\nexport function DeltasSummary({ comparison, className }: DeltasSummaryProps) {\n  const { deltas } = comparison;\n\n  return (\n    <Card className={className}>\n      <CardHeader>\n        <CardTitle className=\"text-xl\">So sánh 2025 ↔ 2026</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {/* Hero NET salary delta */}\n        <DeltaItem label=\"Lương NET\" delta={deltas.netSalary} large className=\"pb-4 border-b\" />\n\n        {/* Deduction deltas */}\n        <div className=\"space-y-3\">\n          <h3 className=\"text-sm font-semibold text-muted-foreground\">Các khoản giảm trừ</h3>\n          <DeltaItem label=\"Giảm trừ bản thân\" delta={deltas.personalDeduction} />\n          <DeltaItem label=\"Giảm trừ người phụ thuộc\" delta={deltas.dependentDeduction} />\n          <DeltaItem\n            label=\"Tổng giảm trừ\"\n            delta={deltas.totalDeductions}\n            className=\"pt-2 border-t\"\n          />\n        </div>\n\n        {/* Insurance delta */}\n        <div className=\"space-y-3\">\n          <h3 className=\"text-sm font-semibold text-muted-foreground\">Bảo hiểm</h3>\n          <DeltaItem label=\"Bảo hiểm bắt buộc\" delta={deltas.insurance} inverted />\n        </div>\n\n        {/* Tax deltas */}\n        <div className=\"space-y-3\">\n          <h3 className=\"text-sm font-semibold text-muted-foreground\">Thuế TNCN</h3>\n          <DeltaItem label=\"Thu nhập tính thuế\" delta={deltas.taxableIncome} inverted />\n          <DeltaItem label=\"Thuế TNCN\" delta={deltas.pit} inverted />\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import { ResultDisplay } from '@/components/ResultDisplay';\nimport { DeltasSummary } from '@/components/DeltasSummary';\nimport type { ComparisonResult, InsuranceBaseMode } from '@/types';\n\ninterface ComparisonViewProps {\n  /** Comparison result with both regime calculations and deltas */\n  comparison: ComparisonResult;\n  /** Additional context for insurance base adjustments */\n  insuranceBaseMode?: InsuranceBaseMode;\n  customInsuranceBase?: number;\n  /** Current locale for copy formatting */\n  locale?: 'en-US' | 'vi-VN';\n  /** Current view mode */\n  viewMode?: '2025' | '2026' | 'compare';\n}\n\n/**\n * Side-by-side comparison view showing 2025 and 2026 regime results with delta summary.\n * Responsive grid layout: stacked on mobile, side-by-side on larger screens.\n */\nfunction ComparisonView({\n  comparison,\n  insuranceBaseMode,\n  customInsuranceBase,\n  locale,\n  viewMode,\n}: ComparisonViewProps) {\n  return (\n    <div className=\"space-y-6\">\n      {/* Side-by-side regime cards */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* 2025 Regime */}\n        <div>\n          <ResultDisplay\n            result={comparison.regime2025}\n            insuranceBaseMode={insuranceBaseMode}\n            customInsuranceBase={customInsuranceBase}\n            locale={locale}\n            viewMode={viewMode}\n          />\n        </div>\n\n        {/* 2026 Regime */}\n        <div>\n          <ResultDisplay\n            result={comparison.regime2026}\n            insuranceBaseMode={insuranceBaseMode}\n            customInsuranceBase={customInsuranceBase}\n            locale={locale}\n            viewMode={viewMode}\n          />\n        </div>\n      </div>\n\n      {/* Delta summary card */}\n      <DeltasSummary comparison={comparison} />\n    </div>\n  );\n}\n\n// Named export for tests\nexport { ComparisonView };\n\n// Default export for lazy loading\nexport default ComparisonView;\n"],"names":["__iconNode","ArrowDown","createLucideIcon","ArrowUp","DeltaItem","label","delta","inverted","large","className","locale","usePreferences","isPositive","isNegative","isZero","colorClass","cn","Icon","Minus","sizeClass","formattedValue","formatNumber","prefix","jsx","jsxs","DeltasSummary","comparison","deltas","Card","CardHeader","CardTitle","CardContent","ComparisonView","insuranceBaseMode","customInsuranceBase","viewMode","ResultDisplay"],"mappings":"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","x_google_ignoreList":[0,1]}